<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أوقات الصلاة</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <!-- إضافة مكتبة Moment Hijri -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-hijri/2.17.1/moment-hijri.min.js"></script>
    <style>
        body {
            margin: 0;
            background-image: linear-gradient(to right, rgba(3, 85, 18, 0.12), rgba(92, 255, 247, 0.08));
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        .aa {
            background: #d8c4c4;
            width: 100%;
            height: 640px;
            background-image: linear-gradient(to right, rgba(6, 72, 10, 0.678), rgba(2, 26, 10, 0.726)),
                url('2222.jpg');
            background-size: cover; /* لجعل الصورة تغطي الخلفية بشكل كامل */
            background-position: center; /* لضبط الصورة في المركز */
            transition: background 0.5s ease; /* لجعل تغيير الخلفية سلس */
        }

        .aa:hover {
            background: linear-gradient(to right, rgba(5, 106, 59, 0.73) 30%, transparent),
                url('2222.jpg');
        }

        .time {
            color: aliceblue;
        }

        #city_name {
            font-size: 100px;
            font-weight: 100;
            color: rgb(255, 255, 255);
            margin: 0;
            padding: 0;
        }

        h1, h2, h3, h4, h5, h6 {
            margin: 0;
        }

        hr {
            margin: 0 50px;
            border-color: rgb(28, 141, 13);
            border-style: solid;
        }

        .cart {
            border-radius: 15%;
            margin-right: 10px;
            width: 30%;
            height: 100%;
            background-color: rgba(55, 245, 17, 0.493);
            font-size: 20px;
            box-shadow: 2px 10px 5px rgba(255, 255, 255, 0.833);
            animation: slideInUp 0.5s ease-out forwards;
            transition: transform 0.3s ease, box-shadow 0.3s ease; 
        }

        .cart:hover {
            transform: scale(1.05); 
            box-shadow: 4px 15px 10px rgba(255, 255, 255, 0.6); 
        }

        .header {
            padding: 4px;
            width: 80%;
            background: linear-gradient(100deg, #162a1fad, #60d475);
            color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: rotateIn 0.6s ease-out forwards;
        }

        .body {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .centar {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        select {
            width: 500px;
            height: 95px;
            font-size: 35px;
            font-family: Arial, Helvetica, sans-serif;
            background: none;
            color: #0c4a0c;
            padding: 5px;
            border-radius: 30px;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        
        @keyframes rotateIn {
            from {
                opacity: 0;
                transform: rotate(-200deg);
            }
            to {
                opacity: 1;
                transform: rotate(0deg);
            }
        }
    </style>
</head>
<body style="direction: rtl;" class="cony">
    <div style="height: 100vh;" class="aa">
        <!-- city -->
        <div style="margin-top: 100px;">
            <div style="color: rgb(255, 255, 255); margin-right: 40px; padding: 20px;">  
                <h1 id="city_name">ليبيا</h1>
                <h6 id="hijri-date" style="font-size: 30px; font-weight: 90;"> 10 صفر 14446</h6>
            </div>
            <hr>
            <div class="centar" style="height: 150px;">
                <div class="cart">
                    <div class="header" style="margin: 10px;">
                        <h1>الفجر</h1>
                    </div>
                    <div class="body" style="margin: 10px;">
                        <h1 class="time" id="fajar-time">4:30</h1>
                    </div>
                </div>

                <div class="cart">
                    <div class="header" style="margin: 10px;">
                        <h1>الشروق</h1>
                    </div>
                    <div class="body" style="margin: 10px;">
                        <h1 class="time" id="sunrise-time">4:30</h1>
                    </div>
                </div>

                <div class="cart">
                    <div class="header" style="margin: 10px;">
                        <h1>الظهر</h1>
                    </div>
                    <div class="body" style="margin: 10px;">
                        <h1 class="time" id="dhurh-time">4:30</h1>
                    </div>
                </div>

                <div class="cart">
                    <div class="header" style="margin: 10px;">
                        <h1>العصر</h1>
                    </div>
                    <div class="body" style="margin: 10px;">
                        <h1 class="time" id="asr-time">4:30</h1>
                    </div>
                </div>

                <div class="cart">
                    <div class="header" style="margin: 10px;">
                        <h1>المغرب</h1>
                    </div>
                    <div class="body" style="margin: 10px;">
                        <h1 class="time" id="sunset-time">4:30</h1>
                    </div>
                </div>

                <div class="cart">
                    <div class="header" style="margin: 10px;">
                        <h1>العشاء</h1>
                    </div>
                    <div class="body" style="margin: 10px;">
                        <h1 class="time" id="isha-time">4:30</h1>
                    </div>
                </div>
            </div>

            <!-- تغيير المدينة -->
            <div class="centar" style="margin-top: 120px; color: #000;">
                <select id="city-selector">
                    <option value="Banghāzī">بنغازي</option>
                    <option value="Tripoli">طرابلس</option>
                    <option value="Ajdabiya" selected>اجدابيا</option>
                </select>
            </div>
            <!-- تغيير المدينة --> 
        </div>
    </div>

    <script>
        function fetchPrayerTimes(city) {
            axios.get('http://api.aladhan.com/v1/calendarByCity', {
                params: {
                    country: 'ly',
                    city: city
                }
            })
            .then(function (response) {
                const timings = response.data.data[0].timings;
                document.getElementById("fajar-time").innerText = timings.Fajr;
                document.getElementById("sunrise-time").innerText = timings.Sunrise;
                document.getElementById("dhurh-time").innerText = timings.Dhuhr;
                document.getElementById("asr-time").innerText = timings.Asr;
                document.getElementById("sunset-time").innerText = timings.Maghrib;
                document.getElementById("isha-time").innerText = timings.Isha;
                console.log(timings);
            })
            .catch(function (error) {
                console.error("حدث خطأ أثناء جلب أوقات الصلاة:", error);
                document.getElementById("fajar-time").innerText = "خطأ في جلب البيانات";
            });
        }

        function updateHijriDate() {
            const hijriDate = moment().format('iD iMMMM iYYYY');
            const dayNames = ["الأحد", "الاثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت"];
            const currentDay = moment().format('idddd'); 

            document.getElementById('hijri-date').innerText = `${dayNames[moment().day()]} ${hijriDate}`;
        }

        fetchPrayerTimes('Ajdabiya');
        updateHijriDate();


        document.getElementById('city-selector').addEventListener('change', function() {
            fetchPrayerTimes(this.value);
        });

    
        document.addEventListener('DOMContentLoaded', function() {
            gsap.from(".cart", {
                duration: 1,
                opacity: 0,
                y: 50,
                stagger: 0.3,
                ease: "power2.out"
            });

            gsap.from("#city_name", {
                duration: 1,
                opacity: 0,
                y: -50,
                ease: "bounce.out"
            });

            gsap.from("#hijri-date", {
                duration: 1,
                opacity: 0,
                y: -30,
                delay: 0.5,
                ease: "power2.out"
            });
        });
    </script>
</body>
</html>
